массив посещенных вершин - следующая непосещенная вершина - очередь на посещение
для каждой вершины храним откуда пришли в нее
вершина - в обратную сторону